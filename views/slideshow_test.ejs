<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Curved Images</title>
    <meta name="description" content="Curved Images - A-Frame">
    <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
    <script src="https://rawgit.com/aframevr/aframe/f850c2f/dist/aframe-master.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^3.0.0/dist/aframe-event-set-component.min.js"></script>
    <!-- <script src="dist/aframe-master.js"></script> -->
    <script>
      AFRAME.registerComponent('slideshow_test', {
        init: function () {

            

          

          $(document).ready(function() {
            $('a-scene').append('<a-curvedimage src="#ui2" radius="5.7" theta-length="72" height="2.6" rotation="0 80 0" position="0 0.7 0" scale="0.6 0.6 0.6"></a-curvedimage>')
            var newImg = $('<img id="ui2" src="http://storage.googleapis.com/harvard-vr/1.jpg" crossorigin="anonymous">');
            // $('a-assets').append(newImg);

          var sceneEl = document.querySelector('a-scene');
          function appendChildren() {
            sceneEl.appendChild(boxEl);
          } 
          
          for (var i = 0; i < 50; i++) {
            var boxEl = document.createElement('a-box');
            boxEl.setAttribute('material', {color: '#EF2D5E'});
            boxEl.setAttribute('position', {x: Math.random() * 20 - 10, y: Math.random() * 20 - 10, z: Math.random() * 20 - 10});
            boxEl.setAttribute('scale', {x: Math.random() / 2, y: Math.random() / 2, z: Math.random() / 2});
            setTimeout(appendChildren(), 2000);
          }

          var timeoutID;

          function delayedAlert() {
            timeoutID = window.setTimeout(appendImage, 2000);
          }

          function appendImage() {
            alert('That was really slow!');
            $('a-assets').append(newImg);

          }


          var children = $('a-assets').children()
          })      
        }
      });
    </script>
  </head>
  <body>
    <a-scene slideshow_test>
      <a-assets>
        <img id="mozvr" src="http://storage.googleapis.com/harvard-vr/mozvr.png" crossorigin="anonymous">
        <img id="shadow2" src="http://storage.googleapis.com/harvard-vr/radial-shadow-2.png" crossorigin="anonymous">
      </a-assets>

      <a-curvedimage src="#ui3" radius="5.7" theta-length="180" height="9"
                     rotation="0 90 0" scale="1.2 1.2 1.2"></a-curvedimage>
      <a-curvedimage src="#mozvr" radius="5.7" theta-length="17" height=".36"
                     opacity="0.2" rotation="0 250 0" position="0 2 0"></a-curvedimage>
      <a-curvedimage src="#ui1" radius="5.7" theta-length="72" height="2.6"
                     rotation="0 80 0" position="0 0.7 0" scale="0.6 0.6 0.6"></a-curvedimage>
      <a-curvedimage src="#ui2" radius="5.7" theta-length="70" height="3.02"
                     rotation="0 -130 0" scale="0.8 0.8 0.8"></a-curvedimage>

      <a-image position="0 -5 0" src="#shadow2" rotation="-90 0 0" scale="6 6 6"></a-image>
      <a-sky color="#fff"></a-sky>
      <a-entity position="0 0 1.5">
        <a-camera>
          <a-cursor></a-cursor>
        </a-camera>
      </a-entity>
    </a-scene>
  </body>
</html>
