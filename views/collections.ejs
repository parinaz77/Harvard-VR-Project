<!DOCTYPE html>
<html>
<head>
	<title>Harvard VR Project</title>
	<link rel="stylesheet" href="styles.css">
	<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

</head>
<body>
	<nav>
	  <div class="nav-col">
    <a href="/" class="brand-logo">WebVision</a>
    <ul id="nav-mobile" class="right hide-on-med-and-down">
      <li><a href="/">Home</a></li>
    </ul>
	  </div>
	</nav>
<div class="add-space"></div>
	<div class='container center'>
		<p>WebVision is a simple application that lets you view your selected images in VR from your browser</p>
		<p>WebVision can be viewed on any tethered or untethered HMDs including HTC Vive, Oculus Rift and Cardboard devices. </p>
		<br>
		<br>
		<img src="images/chrome.pnh.png" height="70" width="300"> <img src="images/carmel.png" height="70" width="300"><img src="images/firefox.png" height="65" width="300">
		<p>WebVR is supported with majority of the browsers. If you are using Android phone or iPhone, WebVR is only enabled on Chrome</p>
		<p>To get Started, based on the device you are using, follow this <a href="https://webvr.rocks/">link</a> to see which browser your device will support</p>
		<br>
		<br>

		<p>You can create new collections bellow and add up to any pictures you wish to view in VR</p>
		<p>After you created your collection and you are in VR view, you will have the option to choose the format you wish to view your images</p>
		<br>
	<!-- New collection Modal Trigger Button-->
	<div class="center"><a class="waves-effect waves-light btn" href="#modal1">Create New Collection</a></div>
	<br>
	<br>

	<div class="ajax-response">
		<div class="row border">
  	<%collections.forEach(function(collection) {%>
      <div class="col s12 m6">
        <div class="card">
          <div class="carousel">
					<%if(collection.images.length){ %>
						<%for(var i=0; i < collection.images.length; i++){ %>
				    	<a class="carousel-item" href="#one!"><img src="http://storage.googleapis.com/harvard-vr/<%=collection.images[i].name %>"></a>
							<%}%>
	 			 	</div>
						<%} else { %>
							<img src="http://storage.googleapis.com/harvard-vr/<%=collection.images.name %>">
						<%}%>
          <div class="card-content">
            <span class="card-title"><%=collection.title %></span>
            <p class="p-desc"><%=collection.description %></p>
          </div>
          <div class="card-action">
            <a href="/collections/<%=collection._id%>/vr">VR Curve View</a>
            <a href="/collections/<%=collection._id%>/vr2">VR regular view</a>
            <a href="/collections/<%=collection._id%>/delete">Delete</a>
            <a href="/collections/<%=collection._id%>/edit">Edit</a>
          </div>
        </div>
      </div>
	  <% })%>
  	</div>  
 	</div> 
      

  <!-- Modal Structure to create new collection-->
  <div id="modal1" class="modal bottom-sheet">
    <div class="modal-content">
      <h4>Create a new collection</h4>
			  <form class="col s12" method="POST" action="/upload" enctype="multipart/form-data">
					<div class="row">
			      <div class="row">
			        <div class="input-field col s6">
			          <input name="title" type="text" class="validate">
			          <label for="title">Title</label>
			        </div>
			        <div class="input-field col s6">
			          <input id="description" name="description" type="text" class="validate">
			          <label for="description">Description</label>
			        </div>
			      </div>
			  	</div>
			    <div class="file-field input-field">
			      <div class="btn">
			        <span>File</span>
			        <input type="file" multiple name="image">
			      </div>
			      <div class="file-path-wrapper">
			        <input class="file-path validate" type="text" placeholder="Upload one or more files">
			      </div>
			    </div>
			    <div class="modal-footer">
			    	<input class="waves-effect waves-light btn-large start-button submit-ajax" type="submit" value="Save">
			    </div>
			    <div class="load-bar"></div>				  
				</form>
	    </div>
	  </div>
	</div>


<!-- Footer of the page -->
		<footer class="page-footer">
			<div class="container">
	    	<div class="row row-footer"></div>
	  	</div>
			<div class="footer-copyright"></div>
	  </footer>

	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
	<script type="text/javascript" src=js/view.js></script>
	

</body>
</html>